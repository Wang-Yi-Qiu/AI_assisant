/**
 * ç¤ºä¾‹å›¾è¡¨ç®¡ç†å™¨ï¼šæä¾›é¢„è®¾çš„ç¤ºä¾‹å›¾è¡¨é…ç½®
 * @module sampleChartManager
 */

import { ChartConfig } from './aiService';

/**
 * ç¤ºä¾‹å›¾è¡¨å…ƒæ•°æ®æŽ¥å£
 */
export interface SampleChart {
  id: string;
  name: string;
  description: string;
  chartType: 'bar' | 'line' | 'pie';
  icon: string;
  chartConfig: ChartConfig;
}

/**
 * èŽ·å–æŸ±çŠ¶å›¾ç¤ºä¾‹é…ç½®
 */
function getBarChartConfig(): ChartConfig {
  return {
    title: {
      text: 'æœˆåº¦é”€å”®æ•°æ®',
      left: 'center',
      textStyle: {
        color: '#FFFFFF'
      }
    },
    tooltip: {
      trigger: 'axis',
      axisPointer: {
        type: 'shadow'
      }
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      containLabel: true
    },
    xAxis: {
      type: 'category',
      data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
      nameTextStyle: {
        color: '#FFFFFF'
      }
    },
    yAxis: {
      type: 'value',
      nameTextStyle: {
        color: '#FFFFFF'
      }
    },
    series: [{
      name: 'é”€å”®é¢',
      type: 'bar',
      data: [12000, 15000, 18000, 16000, 20000, 22000, 25000, 23000, 27000, 29000, 31000, 35000],
      itemStyle: {
        color: '#007DFF'
      }
    }],
    backgroundColor: '#1C1C1C'
  };
}

/**
 * èŽ·å–é¥¼å›¾ç¤ºä¾‹é…ç½®
 */
function getPieChartConfig(): ChartConfig {
  return {
    title: {
      text: 'äº§å“åˆ†ç±»å æ¯”',
      left: 'center',
      textStyle: {
        color: '#FFFFFF'
      }
    },
    tooltip: {
      trigger: 'item'
    },
    legend: {
      orient: 'vertical',
      left: 'left'
    },
    series: [{
      name: 'äº§å“åˆ†ç±»',
      type: 'pie',
      data: [
        { value: 35, name: 'ç”µå­äº§å“' },
        { value: 25, name: 'æœè£…' },
        { value: 20, name: 'é£Ÿå“' },
        { value: 12, name: 'å®¶å±…' },
        { value: 8, name: 'å…¶ä»–' }
      ]
    }],
    backgroundColor: '#1C1C1C'
  };
}

/**
 * èŽ·å–æŠ˜çº¿å›¾ç¤ºä¾‹é…ç½®
 */
function getLineChartConfig(): ChartConfig {
  return {
    title: {
      text: 'ç”¨æˆ·å¢žé•¿è¶‹åŠ¿',
      left: 'center',
      textStyle: {
        color: '#FFFFFF'
      }
    },
    tooltip: {
      trigger: 'axis'
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      containLabel: true
    },
    xAxis: {
      type: 'category',
      data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
      nameTextStyle: {
        color: '#FFFFFF'
      }
    },
    yAxis: {
      type: 'value',
      nameTextStyle: {
        color: '#FFFFFF'
      }
    },
    series: [{
      name: 'ç”¨æˆ·æ•°',
      type: 'line',
      data: [1200, 1500, 1800, 2100, 2400, 2700, 3000, 3300, 3600, 3900, 4200, 4500],
      itemStyle: {
        color: '#007DFF'
      }
    }],
    backgroundColor: '#1C1C1C'
  };
}

/**
 * ç¤ºä¾‹å›¾è¡¨åˆ—è¡¨
 */
const SAMPLE_CHARTS: SampleChart[] = [
  {
    id: 'sample-bar',
    name: 'æŸ±çŠ¶å›¾',
    description: 'æœˆåº¦é”€å”®æ•°æ®æŸ±çŠ¶å›¾',
    chartType: 'bar',
    icon: 'ðŸ“Š',
    chartConfig: getBarChartConfig()
  },
  {
    id: 'sample-pie',
    name: 'é¥¼å›¾',
    description: 'äº§å“åˆ†ç±»å æ¯”é¥¼å›¾',
    chartType: 'pie',
    icon: 'ðŸ¥§',
    chartConfig: getPieChartConfig()
  },
  {
    id: 'sample-line',
    name: 'æŠ˜çº¿å›¾',
    description: 'ç”¨æˆ·å¢žé•¿è¶‹åŠ¿æŠ˜çº¿å›¾',
    chartType: 'line',
    icon: 'ðŸ“ˆ',
    chartConfig: getLineChartConfig()
  }
];

/**
 * èŽ·å–æ‰€æœ‰ç¤ºä¾‹å›¾è¡¨åˆ—è¡¨
 * @returns SampleChart[] ç¤ºä¾‹å›¾è¡¨åˆ—è¡¨
 */
export function getSampleChartList(): SampleChart[] {
  return SAMPLE_CHARTS;
}

/**
 * æ ¹æ®IDèŽ·å–ç¤ºä¾‹å›¾è¡¨
 * @param id ç¤ºä¾‹å›¾è¡¨ID
 * @returns SampleChart | undefined ç¤ºä¾‹å›¾è¡¨
 */
export function getSampleChartById(id: string): SampleChart | undefined {
  return SAMPLE_CHARTS.find(item => item.id === id);
}

/**
 * æ ¹æ®å›¾è¡¨ç±»åž‹èŽ·å–ç¤ºä¾‹å›¾è¡¨
 * @param chartType å›¾è¡¨ç±»åž‹
 * @returns SampleChart | undefined ç¤ºä¾‹å›¾è¡¨
 */
export function getSampleChartByType(chartType: 'bar' | 'line' | 'pie'): SampleChart | undefined {
  return SAMPLE_CHARTS.find(item => item.chartType === chartType);
}

